# Shopify Tracking App - Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# SUPABASE CONFIGURATION
# ===========================================
# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase Service Role Key (recommended for server-side operations)
# This bypasses RLS and allows full database access
# Get this from: Supabase Dashboard  Settings  API  service_role
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Supabase Anonymous Key (fallback, used if SERVICE_ROLE_KEY not set)
# Get this from: Supabase Dashboard  Settings  API  anon
SUPABASE_ANON_KEY=your_anon_key_here

# ===========================================
# REDIS CONFIGURATION
# ===========================================
# Option 1: Standard Redis URL
REDIS_URL=redis://localhost:6379

# Option 2: Upstash Redis (if using Upstash)
# Get these from: Upstash Dashboard  Redis  Settings
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# ===========================================
# SECURITY
# ===========================================
# Tracking API authentication key
# Used for /cleanup and /app-proxy/collect endpoints
# Generate a secure random string (32+ characters)
TRACKING_KEY=your_secure_tracking_key_here

# ===========================================
# FEATURES (OPTIONAL)
# ===========================================
# Enable Supabase Realtime subscriptions (0 or 1)
# Default: disabled (saves resources)
REALTIME=0

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# Server port (default: 8082)
PORT=8082

# ===========================================
# DEVELOPMENT
# ===========================================
# Node environment
NODE_ENV=production

# ===========================================
# NOTES
# ===========================================
# 1. SUPABASE_SERVICE_ROLE_KEY is recommended for server-side operations
#    as it bypasses Row Level Security (RLS)
# 
# 2. Use either REDIS_URL or UPSTASH_REDIS_* variables, not both
# 
# 3. TRACKING_KEY should be a secure random string in production
# 
# 4. REALTIME=1 enables Supabase Realtime subscriptions (optional)
#    Disabled by default to save resources
# 
# 5. PORT defaults to 8082 if not specified
# 
# 6. NEVER commit real keys to repository!
#    Always use placeholder values in .env.example
